{{#section 'js'}}
  <script>
    $('.table').on('click', '.btn-delete-project', function () {
      var id = $(this).data('id');
      Swal.fire({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        type: 'warning',
        showConfirmButton: true,
        showCancelButton: true,
        confirmButtonText: 'Yes, delete it!',
        cancelButtonText: 'No, cancel!',
        confirmButtonColor: "#28a745",
        cancelButtonColor: "#dc3545",
        reverseButtons: true,
        focusConfirm: true,
        showCloseButton: true,

      }).then((result) => {
        if (result.value) {
          Swal.fire(
            'Deleted!',
            'Your project has been deleted.',
            'success'
          );
          window.location.href = '/admin/projects/delete/' + id;
        }
        else {
          Swal.fire(
            'Cancelled',
            'Your project has been retained!',
            'error'
          )
        }
      })
    });
  </script>
{{/section}}
<div class="card shadow">
  <h4 class="card-header">
    Projects
  </h4>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col" class="text-center">#</th>
        <th scope="col">Name</th>
        <th scope="col">Status</th>
        <th scope="col" class="text-right">
          <a class="btn btn-outline-success" href="/admin/projects/add" role="button">
            <i class="fa fa-plus" aria-hidden="true"></i>
            Add Project
          </a>
        </th>
      </tr>
    </thead>
    <tbody>
      {{#each this.projects}}
      <tr>
        <th scope="row" class="text-center">{{id}}</th>
        <td>{{name}}</td>
        <td>
          {{#if status}}
          <p style="color: green; font-weight: bold;">
            Đã duyệt
          </p>
          {{else}}
          <p style="color: #ed5565; font-weight: bold;">
            Chưa duyệt
          </p>
          {{/if}}
        </td>
        <td class="text-right">
          <a class="btn btn-primary btn-sm" href="/admin/projects/edit/{{id}}" role="button">
            <i class="fa fa-edit" aria-hidden="true"></i>
          </a>
          <button id="btn-delete" class="btn btn-danger btn-delete-project btn-sm" data-id="{{id}}" role="button">
            <i class="fa fa-trash" aria-hidden="true"></i>
          </button>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>

